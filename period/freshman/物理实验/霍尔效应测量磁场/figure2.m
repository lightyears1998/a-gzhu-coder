% 霍尔效应测量磁场 Figure 2 %

x = [0:0.5:5];
U1 = [69.3, 134.2, 176.8, 178.4, 178.6, 178.6, 178.5, 178.4, 178.2, 162.8, 84.7];
U2 = [-71.9, -137.6, -179.4, -181.0, -181.0, -181.0, -180.9, -180.8, -180.5, -163.0, -87.0];
U3 = [71.9, 137.4, 179.4, 181.2, 181.2, 181.2, 181.2, 181.1, 180.9, 166.1, 87.6];
U4 = [-69.1, -136.0, -176.5, -178.2, -178.1, -178.1, -178.0, -178.0, -177.8, -161.0, -85.3];
Uh = (abs(U1)+abs(U2)+abs(U3)+abs(U4)) ./ 4

Ih = ones(1, 11) .* 10;
Kh = 173.2;
B1 = zeros(1, 11);
for idx = [1:11]
	B1(idx) = Uh(idx) / (Kh * Ih(idx));
end
B1

graphics_toolkit("gnuplot");
figure();

hold on;
grid on;
axis([0, 5, 0, 200]);
plot(x, Uh);
print('figure2.png', '-dpng');
hold off;
